<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning Scroll</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="scrollbar.css">
    <link rel="stylesheet" href="main.css">
  </head>
  <body>
    <main>

    </main>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/soundmanager2/2.97a.20150601/script/soundmanager2-nodebug-jsmin.js">
    </script>
    <script type="text/javascript">
      
      (async function init() {
        try {
          let response = await fetch('https://baconipsum.com/api/?type=meat-and-filler&paras=20')
          let data = await response.json()
          soundOdd = soundManager.createSound({
            url: 'http://soundbible.com/mp3/sms-alert-3-daniel_simon.mp3'
          })

          soundEven = soundManager.createSound({
            url: 'http://soundbible.com/mp3/sms-alert-1-daniel_simon.mp3'
          })

          data.forEach((loremText,index)=>{
            let msg = document.createElement("p")
            msg.innerHTML=loremText
            msg.className='animated bounceInDown'
            //console.log(msg)

            setTimeout(()=>{
              let main = document.getElementsByTagName('main')[0]
              main.appendChild(msg)
              main.scrollTop= main.scrollHeight
              index % 2 ? soundOdd.play() : soundEven.play()
            },(index+1)*1000);
          }) 
        } catch(e) {
          console.error(e)
        }
      })()

    </script>
  </body>
</html>
